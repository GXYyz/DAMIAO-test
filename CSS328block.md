# 块元素的基本布局

## 块元素的水平布局

- 水平方向上的七大属性之和要等于其父元素的宽度
- 只有外边距和元素宽度能使用 auto

1. 如果没有 auto:
   则将 margin-right 重置为 auto(也就是相当于元素自动左对齐)
   用术语来讲,这些属性过分受限了,会强制 margin-right 为 auto,由这个 auto 值来使元素的总宽度等于其包含块的 width

2. 如果有一个为 auto：
   则通过父元素的宽度减去其它六个属性计算出这个 auto 的值
   如果这个 auto 在 margin 上,则另一个 margin 会自动重置为 0

3. 如果有两个 auto：
   两个 auto 在 margin-left/right 上 则两个 auto 计算为相同的值，元素相当于定宽居中
   如果有一个 auto 在 width 上，则将另一个 auto 重置为 0 相当于额外的宽度都给到 width 属性用于显示内容

4. 如果有三个 auto：
   两个 margin 的 auto 都被重置为 0 ,width 会尽可能的宽

- 对于从左往右的语言，任何时候,margin-left 和 width 都不能自动被计算为负值
- 如果要计算出负值的时候，用 0，多余的负值给到 margin-right
- width 总是不为 0 的,某些情况下 content 会超出父元素框,但 width 总是有一定宽度的

## 水平负外边距

- 为了满足"七大属性之和要等于其父元素的宽度"这个条件,负外边距会导致元素被拉长
- margin-left 被指定为负值时，元素会向左往包含块外拉长
- margin-right 被指定为负值时（未被重置时），元素会向右往包含块外拉长
- 内边距,边框和内容宽高绝对不能为负,只有外边距能小于 0

## 块元素的垂直布局

- margin-top/bottom 的百分比值以父元素的宽度为基准!!!

1. 父元素的自动高度会由子元素的可视范围的高度决定
   如果子元素存在上下 padding 或 border,其父元素的宽度是从其最高子元素的上外边距边界到其最低子元素的下外边距边界之间的距离

2. 垂直外边距合并(及正负边距合并)
   相邻的外边距会沿着竖轴合并,取绝对值最大的那个

   - 如果垂直外边距都设置为负值,浏览器会取两个外边距绝对值的最大值
   - 如果一正一负,还会从正外边距减去这个负外边距的绝对值
   - 由于正负外边距合并问题的存在,文档中后出现的正常流元素可能会覆盖较早出现的元素
   - 当父元素没有设置 padding 或 border,并且没有触发'BFC'时,子元素的上下外边距会和父元素的上下外边距合并,看起来就像子元素的上下 margin 溢出了

3. BFC (Block Formatting Context) 块级格式化上下文
   触发了 BFC 的块级元素,将"封闭"起来,其内部子元素的外边距不会"溢出".触发条件如下

   - display:flow-root 在块元素内部建立一些新的块级格式化上下文
   - 浮动元素 元素的 float 不为 none
   - 绝对定位元素
   - 行内块元素
   - 弹性元素或网格元素
     display 为 flex 或 inline-flex 元素的直接子元素  
     display 为 grid 或 inline-grid 元素的直接子元素。

4. overflow 设置超出可视区域的内容的展示方式
   hidden 隐藏
   scroll 滚动条
   auto 自动设置
   同时,可以单独设置元素在 x 和 y 轴上的展示方式 overflow-x/y

5. 多数情况下 垂直布局的规则与水平布局相同

## 块元素常见水平布局：

- 定宽居中：
  定宽，左右 margin 为 auto
  (text-align 只应用于块级元素的内联内容)
- 固定的左右留白，宽度占据额外的空间
  左右 margin 为指定的留白值，width 为 auto
- 元素居左：
  margin-right 为 auto
- 元素居右：
  margin-left 为 auto

## 属性值计算函数 calc

- 用于动态计算长度值,支持加减乘除
- 运算符前后都需要保留一个空格
- 任何长度值都可以使用 calc()计算,并且其中单位可以混用
- calc()函数使用标准的属性运算规则

## attr 函数
